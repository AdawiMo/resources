---

copyright:

  years: 2018
lastupdated: "2018-06-08"

---

{:new_window: target="_blank"}  
{:shortdesc: .shortdesc}
{:tip: .tip}


# 將資源組織成資源群組的最佳作法
{: #bp_resourcegroups}

資源群組是針對存取控制和計費用途來組織帳戶[資源](/docs/resources/acct_resources.html#resource)的一項特性。如果您熟悉 Cloud Foundry 空間的用法，可以將資源組織成資源群組這件事，想成類似於您將資源組織成空間的方式。資源是可以建立、管理及包含在資源群組中的任何項目。不能將使用者新增至資源群組。只能新增資源。 

目前並非所有服務都支援使用 {{site.data.keyword.Bluemix_notm}} Identity and Access Management (IAM) 存取控制以及指派至資源群組。當您從型錄建立服務實例時，IAM 管理的服務會提示您將新的服務實例指派至資源群組。對資源群組中的資源以及對資源群組本身的存取權是由 IAM 管理。藉由使用 IAM 角色，您可以提供使用者對組織在資源群組中之資源的存取權。IAM 角色也可讓您檢視或編輯資源群組、新增服務實例至資源群組，或是管理對資源群組的存取權。

當您從「身分及存取」使用者介面指派對資源的存取權時，也可以找到 IAM 管理的服務清單。移至**管理** &gt; **安全** &gt; **身分及存取**，然後選取任何使用者或服務 ID，並從**動作**功能表中選取**指派存取權**。然後，選取**指派資源的存取權**，您可以在**服務**下拉功能表中檢視支援使用 IAM 的服務。針對尚未支援使用 IAM 的所有服務，您可以繼續使用 Cloud Foundry 組織、空間和角色。 

Cloud Foundry 組織、空間和角色截然不同於資源群組和 IAM 角色。因此，Cloud Foundry 角色絕對無法授與對資源群組中之資源的存取權。
{: tip}


## 設定資源群組

依預設，所有使用者都會取得可重新命名的單一資源群組。如果您有計費帳戶，則可建立多個資源群組來組織您的資源。藉由將資源組織成不同的資源群組，您可以：

* 使用最少的原則數目，更輕鬆地指派對一組資源的存取權 
* 依資源群組用量資訊進行檢視，以方便計費 

若要建立新的資源群組，請完成下列步驟：

1. 移至**管理** &gt; **帳戶** &gt; **資源群組**。
2. 按一下**建立資源群組**。
3. 輸入資源群組的名稱。
4. 按一下**新增**。


## 新增資源至資源群組

使用 IAM 存取控制來管理的服務，屬於資源群組，而不屬於 Cloud Foundry 組織或空間。當您從型錄建立其中一個服務的服務實例時，系統會提示您將實例指派給資源群組。 

**重要事項**：建立實例時所選擇的資源群組即為最終的資源群組，無法變更。

如果您有適用於移轉的現有 Cloud Foundry 服務實例，當有更多服務啟用對資源群組的指派以及 IAM 存取控制時，系統會在儀表板上通知您。[將服務實例移轉至資源群組](/docs/resources/instance_migration.html)時，就會在您選擇的資源群組中建立新的鏈結實例，而 Cloud Foundry 實例會變成別名。 


## 指派資源群組及其中資源的存取權

您可以藉由建立原則，來為組織成存取群組的使用者或使用者群組提供存取權。存取原則會設定目標（通常是資源群組中的單一服務實例或服務的所有實例）和角色（定義所容許的存取類型）。有兩種存取原則類型需要您以帳戶擁有者身分來指派，才能讓您帳戶中的使用者有權使用資源群組中的資源。

* 資源群組內的資源存取權。您可以針對群組中的所有資源或僅限群組中的選定服務來授與存取權。
* 可讓使用者管理群組的存取權，意即，使用者可以檢視群組、編輯群組的名稱、管理其他人管理群組的存取權，以及最重要的是能夠建立及新增服務實例至群組。

請參閱下表，以進一步瞭解這兩種存取類型，以及所指派的每個平台 IAM 角色可以讓使用者執行哪些作業：

|存取原則詳細資料| 存取資源群組的動作 | 對資源群組中之資源的動作 | 
|:-----------------|:--------------|:---------------|
|指派下列項目存取權|選取的資源群組|資源群組中的選取服務|
|檢視者角色| 檢視群組及其特徵，但不包括群組中的資源 | 檢視群組中的資源 | 
|操作員角色|不適用|不適用| 
|編輯者角色| 檢視或編輯群組的名稱或其他特徵，但不包括群組中的資源 | 建立、刪除、編輯、暫停、回復、檢視、連結及管理對資源群組中之資源的存取權 |
|管理者角色| 檢視、編輯或管理群組的存取權，但不包括群組中的資源 | 建立、刪除、編輯、暫停、回復、檢視、連結及管理對資源群組中之資源的存取權 | 
{: caption="表 1. 資源群組的存取權" caption-side="top"}

如果您想要讓使用者能夠建立新的服務實例並將其新增至資源群組，必須將使用者指派為資源群組的「檢視者」以上角色，以及服務的「編輯者」以上角色。
{: tip}


## 存取原則範例

請檢閱下列存取原則範例，以協助您判斷如何指派帳戶中屬於資源群組之資源的存取權。

1. 將整個帳戶之 {{site.data.keyword.Bluemix_notm}} Container Service 的「管理者」平台角色授與使用者的原則。含有這些詳細資料的原則可讓使用者存取此服務的所有實例，並可讓使用者在其至少具有「檢視者」角色的任何資源群組中，建立服務的實例。具有任何資源「管理者」角色的使用者也可以將該資源的存取權授與其他使用者。
2. 將資源群組（但不包括其成員資源）的「檢視者」平台角色授與使用者的原則。含有這些詳細資料的原則可讓使用者查看資源群組，若要在此資源群組中建立任何服務的實例，就會需要此原則。
3. 將資源群組中所有資源的「編輯者」平台角色授與使用者的原則。具有資源「管理者」角色的使用者可以編輯或刪除該資源。
4. 將整個帳戶（所有已啟用 IAM 的服務）的「管理者」平台角色授與使用者的原則。含有這些詳細資料的原則可讓使用者在整個帳戶中的任何資源上執行任何平台動作，並且也包括對帳戶執行管理動作（例如管理帳戶中的資源群組）的能力。

## 使用案例範例

針對下列每個使用案例，如果您想要讓某個使用者群組中的所有使用者擁有相同層次的存取權，請將他們新增至[存取群組](/docs/iam/groups.html#groups)。若使用存取群組，您就可以使用最少的存取原則，因為存取群組的所有成員會繼承指派給該群組的存取權。
{: tip}

1. 我有一個僅 10 個使用者的小型帳戶，所有使用者共同處理單一專案。其中有些使用者需要能夠管理帳戶，以及指派存取權給其他使用者。有些使用者則需要能夠佈建將會產生費用的服務實例。而其他使用者為應用程式開發者應用程式開發者，他們只需要能夠從應用程式元件使用服務實例。這些使用者全都應該要有帳戶和預設資源群組的各種角色 - 不需要建立其他資源群組來區隔資源或限制某些使用者存取某些資源。您可以依據使用者的需求，為其授與帳戶和預設資源群組的適當角色 - 針對需要能夠管理帳戶及授與其他人存取權的使用者，為其授與帳戶的「管理者」角色；針對需要能夠佈建服務實例的使用者，為其授與預設資源群組及其成員的「編輯者」角色；而針對只需要使用服務實例的使用者，為其授與資源群組成員的「撰寫者」或「讀者」角色。
2. 我有一個帳戶，其中包含處理三項專案的三個不同團隊。有少數幾位使用者是管理者，需要能夠新增使用者至帳戶、建立新的資源群組，以及指派資源群組的存取權給使用者。其餘使用者只需要存取與其專案相關聯的資源群組。我會將「管理者」角色指派給管理者帳戶，並且為其餘使用者指派資源群組的各種角色，和與其專案相關聯的資源群組成員 - 將資源群組「編輯者」指派給需要建立實例的使用者，再將資源群組成員「讀者」或「撰寫者」指派給需要能夠使用實例的使用者。
3. 我有一個包含多個資源群組的帳戶。有些使用者為整個帳戶的「服務 A」管理者，需要存取該服務的所有實例，且需要能夠建立實例，但這些使用者不需要存取帳戶中的任何其他資源。我會在帳戶層次為這些使用者指派「服務 A」的「管理者」角色，並且針對他們在帳戶中需要能夠建立實例的所有資源群組，為他們指派「檢視者」角色。
4. 我的帳戶中有一個使用者只需要存取某項服務中的特定資源，例如能夠寫入 IBM Cloud Object Storage 中的「儲存區 A」。此使用者應該不能看到我的帳戶中的資源群組，或是存取這個 Cloud Object Storage 實例中的任何其他服務或任何其他儲存區。我會為這個使用者授與特定 Cloud Object Storage 實例中「儲存區 A」的「撰寫者」角色。您可以使用服務特定介面（在此範例中為 Cloud Object Storage 使用者介面）或主要「指派存取權」使用者介面來授與此原則。建議使用服務特定使用者介面，因為它可讓您從資源清單中選擇，而「指派存取權」使用者介面不會顯示低於服務實例層次的資源，您需要手動輸入 CRN 來為那些資源指派原則。
